(function(){(function(a,b){b.navobile=function(d,f){var e,c;e=this;e.$el=b(d);e.el=d;e.$el.data("navobile",e);e.attach=function(){var g;e.$el.data({open:false});e.$content.data({drag:false});e.bindTap(e.$cta,e.$nav,e.$content,(b("html").hasClass("touch")?"touchend":"click"));e.bindClickCatch(e.$nav,e.$content,(b("html").hasClass("touch")?"touchend":"click"));if(typeof Hammer==="function"&&(e.options.bindSwipe||e.options.bindDrag)){g=Hammer(e.$content,e.options.hammerOptions);if(e.options.bindSwipe){e.bindSwipe(e.$nav,e.$content)}if(e.options.bindDrag){return e.bindDrag(e.$nav,e.$content)}}};e.bindClickCatch=function(g,h,i){h.on("scroll touchdrag touchmove",function(j){if(b("#navobile-click-catch").not(":visible")){return}j.preventDefault();return j.stopPropagation()});h.parent().on("scroll touchdrag touchmove",function(j){if(b("#navobile-click-catch").not(":visible")){return}j.preventDefault();return j.stopPropagation()});b("#navobile-click-catch").on("scroll touchdrag touchmove",function(j){j.preventDefault();return j.stopPropagation()});return b("#navobile-click-catch").on(i,function(j){j.preventDefault();j.stopPropagation();if(!e.isMobile()){return false}e.slideContentIn(g,h);return false})};e.bindTap=function(i,g,h,j){return i.on(j,function(k){k.preventDefault();k.stopPropagation();h.scrollTop(0);if(!e.isMobile()){return false}e.slideContentOut(g,h);return false})};e.bindSwipe=function(g,j){var h,i;h=e.showOnRight?"right":"left";i=e.showOnRight?"left":"right";j.on("swipe"+h,function(k){if(!e.isMobile()){return false}if(j.data("drag")){e.removeInlineStyles(g,j);j.data("drag",false)}e.slideContentIn(g,j);k.gesture.preventDefault();return k.stopPropagation()});return j.on("swipe"+i,function(k){if(!e.isMobile()){return false}if(j.data("drag")){e.removeInlineStyles(g,j);j.data("drag",false)}e.slideContentOut(g,j);k.gesture.preventDefault();return k.stopPropagation()})};e.bindDrag=function(g,j){var h,i;h=e.showOnRight?"right":"left";i=e.showOnRight?"left":"right";return j.on("dragstart drag dragend release",function(k){var m,l;if(!e.isMobile()){return false}if(k.type==="release"){e.removeInlineStyles(g,j);return false}if(k.direction===h){if(!j.hasClass("navobile-content-hidden")){return false}else{e.slideContentIn(g,j)}}if(k.direction===i){if(k.type==="dragend"){if(k.distance>60){e.slideContentOut(g,j)}else{e.slideContentIn(g,j)}e.removeInlineStyles(g,j);return false}if(k.type==="dragstart"){j.data("drag",true)}m=k.position.x;l=Math.ceil(e.calculateTranslate(m));if(l>80||l<0){return false}if(b("html").hasClass("csstransforms3d")){return j.css("transform","translate3d("+l+"%, 0, 0)")}else{if(b("html").hasClass("csstransforms")){return j.css("transform","translateX("+l+"%)")}}}})};e.animateContent=function(j,g,i){var h;if(!e.canUseCssTransforms()){h=e.showOnRight?{right:j}:{left:j};i.animate(h,100,e.options.easing,(function(k){return function(){var l;l=j==="0%"?"closed":"opened";return e.triggerEvent(l)}})(this))}else{if(j==="0%"){e.transitionEndEvents(i,"closed");i.removeClass("navobile-content-hidden")}else{e.transitionEndEvents(i,"opened");i.addClass("navobile-content-hidden")}}if(j==="0%"){g.removeClass("navobile-navigation-visible")}else{g.addClass("navobile-navigation-visible")}return e.removeInlineStyles(g,i)};e.slideContentIn=function(g,h){e.triggerEvent("close");g.data("open",false);return e.animateContent("0%",g,h)};e.slideContentOut=function(g,h){e.triggerEvent("open");g.data("open",true);return e.animateContent(e.options.openOffset,g,h)};e.clickCatchHtml=function(){return'<div id="navobile-click-catch"></div>'};e.showOnRight=function(){return e.options.direction==="rtl"};e.canUseCssTransforms=function(){return b("html").hasClass("csstransforms3d")||b("html").hasClass("csstransforms")};e.calculateTranslate=function(g){return(g/b(document).width())*100};e.isMobile=function(){return b("#navobile-device-pixel").width()>0};e.removeInlineStyles=function(g,h){return h.css("transform","")};e.triggerEvent=function(g){return b(document).trigger("navobile:"+g)};e.transitionEndEvents=function(h,g){return h.one("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",(function(i){return function(){return e.triggerEvent(g)}})(this))};c={init:function(h){var g;if(b("body").hasClass("navobile-bound")){return}e.options=b.extend({},b.navobile.settings,h);e.$cta=b(e.options.cta);e.$content=b(e.options.content);e.$nav=e.options.changeDOM?e.$el.clone(e.options.copyBoundEvents):e.$el;e.$content.addClass("navobile-content navobile-content--"+e.options.direction);e.$content.prepend(e.clickCatchHtml);if(b("#navobile-device-pixel").length===0){b("body").append('<div id="navobile-device-pixel" />')}b("body").addClass("navobile-bound");if(e.options.changeDOM){e.$el.addClass("navobile-desktop-only");e.$nav.addClass("navobile-mobile-only");g=e.$nav.attr("id");e.$nav.attr("id","navobile-"+g);e.$content.before(e.$nav)}e.$nav.addClass("navobile-navigation navobile-navigation--"+e.options.direction);return e.attach()}};if(c[f]){return c[f].apply(this,Array.prototype.slice.call(argument,1))}else{if(typeof f==="object"||!f){return c.init(f)}else{return b.error("Method "+f+" does not exist on jQuery.navobile")}}};b.navobile.settings={cta:"#show-navigation",content:"#content",direction:"ltr",easing:"linear",changeDOM:false,copyBoundEvents:false,bindSwipe:false,bindDrag:false,openOffset:"80%",hammerOptions:{}};return b.fn.navobile=function(c){return this.each(function(){return new b.navobile(this,c)})}})(window,jQuery)}).call(this);